---
import { TECHNOLOGIES } from "../data/data";
---

<div class="relative flex overflow-x-hidden marquee">
  <div class="py-12 animate-marquee whitespace-nowrap">
    {
      TECHNOLOGIES.map((tech) => (
        <span class="text-2xl mx-4 cursor-pointer hover:scale-100 transition">
          {tech.name}
        </span>
      ))
    }
  </div>
  <!-- Duplicate the marquee to create a continuous loop -->
  <div class="absolute top-0 py-12 animate-marquee2 whitespace-nowrap">
    {
      TECHNOLOGIES.map((tech) => (
        <span class="text-2xl mx-4 cursor-pointer hover:scale-100">
          {tech.name}
        </span>
      ))
    }
  </div>
</div>

<style is:inline>
  @keyframes marquee {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-100%);
    }
  }
  .animate-marquee {
    animation: marquee 1s linear infinite;
  }
  @keyframes marquee2 {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(0%);
    }
  }
  .animate-marquee2 {
    animation: marquee2 1s linear infinite;
  }

  .marquee:hover div {
    animation-play-state: paused;
  }
</style>

<script is:inline>
  const marquee = document.querySelector(".animate-marquee");
  const marquee2 = document.querySelector(".animate-marquee2");
  const marqueeLength = marquee.children.length;
  const duration = marqueeLength * 4;
  marquee.style.animationDuration = `${duration}s`;
  marquee2.style.animationDuration = `${duration}s`;
</script>
